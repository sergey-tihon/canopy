<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Testing
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A simple framework in f# on top of selenium for writing UI automation and tests.">
    <meta name="author" content="Chris Holt">

    <script src="http://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="http://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">

    <link type="text/css" rel="stylesheet" href="/canopy/content/style.css" />
    <script type="text/javascript" src="/canopy/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://www.tryfsharp.org/">tryfsharp.org</a></li>
          <li><a href="https://github.com/sergey-tihon/canopy">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/canopy/index.html">canopy</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1>Testing</h1>

<h2>context</h2>

<p>Define the context of the tests. A default context is defined and used if one is not provided. 
You can have as many contexts as you like. Each context gets a new once/before/after/lastly function.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">context</span> <span class="s">&quot;</span><span class="s">Login</span><span class="s"> </span><span class="s">page</span><span class="s"> </span><span class="s">tests</span><span class="s">&quot;</span>
<span class="c">//some tests</span>

<span onmouseout="hideTip(event, 'fs1', 2)" onmouseover="showTip(event, 'fs1', 2)" class="i">context</span> <span class="s">&quot;</span><span class="s">Search</span><span class="s"> </span><span class="s">page</span><span class="s"> </span><span class="s">tests</span><span class="s">&quot;</span>
<span class="c">//different tests</span>

<span onmouseout="hideTip(event, 'fs1', 3)" onmouseover="showTip(event, 'fs1', 3)" class="i">context</span> <span class="s">&quot;</span><span class="s">Reset</span><span class="s"> </span><span class="s">password</span><span class="s"> </span><span class="s">page</span><span class="s"> </span><span class="s">tests</span><span class="s">&quot;</span>
<span class="c">//different tests</span></pre>
</td>
</tr>
</table>

<h2>once</h2>

<p>Function that is run once time at the beginning of a test suite.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs2', 4)" onmouseover="showTip(event, 'fs2', 4)" class="i">once</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span> 
    ()<span class="c">//do this one time at the beginning of the most recently defined context</span>
)</pre>
</td>
</tr>
</table>

<h2>before</h2>

<p>Function that is run before each test in a context.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs3', 5)" onmouseover="showTip(event, 'fs3', 5)" class="i">before</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span> 
    ()<span class="c">//do this before every test of the most recently defined context</span>
)</pre>
</td>
</tr>
</table>

<h2>after</h2>

<p>Function that is run after each test in a context.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs4', 6)" onmouseover="showTip(event, 'fs4', 6)" class="i">after</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span> 
    ()<span class="c">//do this after every test of the most recently defined context</span>
)</pre>
</td>
</tr>
</table>

<h2>lastly</h2>

<p>Function that is run once at the end of a context.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs5', 7)" onmouseover="showTip(event, 'fs5', 7)" class="i">lastly</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span> 
    ()<span class="c">//do this after the very last test of the most recently defined context</span>
)</pre>
</td>
</tr>
</table>

<h2>test</h2>

<p>Standard test definition (name defined automatically by the test number eg: Test #1).</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs6', 8)" onmouseover="showTip(event, 'fs6', 8)" class="i">test</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span>
    <span class="c">//go somewhere</span>
    <span class="c">//interact with page</span>
    <span class="c">//assert</span>
    ()
)</pre>
</td>
</tr>
</table>

<h2>&amp;&amp;&amp; (named test, aliased as ntest)</h2>

<p>Standard test definition with a name.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="s">&quot;</span><span class="s">go</span><span class="s"> </span><span class="s">somewhere</span><span class="s">,</span><span class="s"> </span><span class="s">do</span><span class="s"> </span><span class="s">some</span><span class="s"> </span><span class="s">stuff</span><span class="s">,</span><span class="s"> </span><span class="s">assert</span><span class="s">&quot;</span> <span class="o">&amp;&amp;&amp;</span> <span class="k">fun</span> _ <span class="k">-&gt;</span>
    <span class="c">//go somewhere</span>
    <span class="c">//interact with page</span>
    <span class="c">//assert</span>
    ()
<span class="c">//Or</span>
<span onmouseout="hideTip(event, 'fs7', 9)" onmouseover="showTip(event, 'fs7', 9)" class="i">ntest</span> <span class="s">&quot;</span><span class="s">go</span><span class="s"> </span><span class="s">somewhere</span><span class="s">,</span><span class="s"> </span><span class="s">do</span><span class="s"> </span><span class="s">some</span><span class="s"> </span><span class="s">stuff</span><span class="s">,</span><span class="s"> </span><span class="s">assert</span><span class="s">&quot;</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span>
    <span class="c">//go somewhere</span>
    <span class="c">//interact with page</span>
    <span class="c">//assert</span>
    ()
)</pre>
</td>
</tr>
</table>

<h2>&amp;&amp;&amp;&amp; (work in progress, aliased as wip)</h2>

<p>Used for debugging. Test runs slower and highlights the elements that it is interacting with to help debug. 
If one test is marked wip, only wip tests are ran. Other tests are skipped.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">//this is test is run slow and only with other tests marked as wip</span>
<span class="s">&quot;</span><span class="s">go</span><span class="s"> </span><span class="s">somewhere</span><span class="s">,</span><span class="s"> </span><span class="s">do</span><span class="s"> </span><span class="s">some</span><span class="s"> </span><span class="s">stuff</span><span class="s">,</span><span class="s"> </span><span class="s">assert</span><span class="s">&quot;</span> <span class="o">&amp;&amp;&amp;&amp;</span> <span class="k">fun</span> _ <span class="k">-&gt;</span>
    <span class="c">//go somewhere</span>
    <span class="c">//interact with page</span>
    <span class="c">//assert</span>
    ()
<span class="c">//Or</span>
<span onmouseout="hideTip(event, 'fs8', 10)" onmouseover="showTip(event, 'fs8', 10)" class="i">wip</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span>
    <span class="c">//go somewhere</span>
    <span class="c">//interact with page</span>
    <span class="c">//assert</span>
    ()
)</pre>
</td>
</tr>
</table>

<h2>&amp;&amp;! (skip, aliased as xtest)</h2>

<p>Do not run a test.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">//skipped</span>
<span class="s">&quot;</span><span class="s">go</span><span class="s"> </span><span class="s">somewhere</span><span class="s">,</span><span class="s"> </span><span class="s">do</span><span class="s"> </span><span class="s">some</span><span class="s"> </span><span class="s">stuff</span><span class="s">,</span><span class="s"> </span><span class="s">assert</span><span class="s">&quot;</span> <span class="o">&amp;&amp;!</span> <span class="k">fun</span> _ <span class="k">-&gt;</span>
    <span class="c">//go somewhere</span>
    <span class="c">//interact with page</span>
    <span class="c">//assert</span>
    ()
<span class="c">//Or</span>
<span onmouseout="hideTip(event, 'fs9', 11)" onmouseover="showTip(event, 'fs9', 11)" class="i">xtest</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span>
    <span class="c">//go somewhere</span>
    <span class="c">//interact with page</span>
    <span class="c">//assert</span>
    ()
)</pre>
</td>
</tr>
</table>

<h2>many</h2>

<p>Run a single test X times. Helps with troubleshooting tests that sometimes fail.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs10', 12)" onmouseover="showTip(event, 'fs10', 12)" class="i">many</span> <span class="n">20</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span>
    <span class="c">//go somewhere</span>
    <span class="c">//interact with page</span>
    <span class="c">//assert</span>
    ()
)</pre>
</td>
</tr>
</table>

<h2>todo</h2>

<p>Mark a test as todo to fill in later. LiveHtmlReporter will mark todo tests in the output.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="s">&quot;</span><span class="s">go</span><span class="s"> </span><span class="s">somewhere</span><span class="s">,</span><span class="s"> </span><span class="s">do</span><span class="s"> </span><span class="s">some</span><span class="s"> </span><span class="s">stuff</span><span class="s">,</span><span class="s"> </span><span class="s">assert</span><span class="s">&quot;</span> <span class="o">&amp;&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs11', 13)" onmouseover="showTip(event, 'fs11', 13)" class="i">todo</span></pre>
</td>
</tr>
</table>

<div class="tip" id="fs1">val context : c:string -&gt; unit<br /><br />Full name: canopy.runner.context</div>
<div class="tip" id="fs2">val once : f:(unit -&gt; unit) -&gt; unit<br /><br />Full name: canopy.runner.once</div>
<div class="tip" id="fs3">val before : f:(unit -&gt; unit) -&gt; unit<br /><br />Full name: canopy.runner.before</div>
<div class="tip" id="fs4">val after : f:(unit -&gt; unit) -&gt; unit<br /><br />Full name: canopy.runner.after</div>
<div class="tip" id="fs5">val lastly : f:(unit -&gt; unit) -&gt; unit<br /><br />Full name: canopy.runner.lastly</div>
<div class="tip" id="fs6">val test : f:(unit -&gt; unit) -&gt; unit<br /><br />Full name: canopy.runner.test</div>
<div class="tip" id="fs7">val ntest : description:string -&gt; f:(unit -&gt; unit) -&gt; unit<br /><br />Full name: canopy.runner.ntest</div>
<div class="tip" id="fs8">val wip : f:(unit -&gt; unit) -&gt; unit<br /><br />Full name: canopy.runner.wip</div>
<div class="tip" id="fs9">val xtest : f:&#39;a -&gt; unit<br /><br />Full name: canopy.runner.xtest</div>
<div class="tip" id="fs10">val many : count:int -&gt; f:(unit -&gt; unit) -&gt; unit<br /><br />Full name: canopy.runner.many</div>
<div class="tip" id="fs11">val mutable todo : (unit -&gt; unit)<br /><br />Full name: canopy.runner.todo</div>

        </div>
        <div class="span3">
          <img src="/canopy/img/logo.jpg" alt="F# Project" style="width:250px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">canopy</li>
            <li><a href="/canopy/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="https://www.nuget.org/packages/canopy/">Get Library via NuGet</a></li>
            <li><a href="https://github.com/sergey-tihon/canopy">Source Code on GitHub</a></li>
            <li><a href="https://github.com/sergey-tihon/canopy/blob/master/LICENSE.txt">License</a></li>
            <li><a href="https://github.com/sergey-tihon/canopy/blob/master/RELEASE_NOTES.md">Release Notes</a></li>
            
            <li class="nav-header">Getting started</li>
            <li><a href="/canopy/actions.html">Actions</a></li>
            <li><a href="/canopy/assertions.html">Assertions</a></li>
            <li><a href="/canopy/testing.html">Testing</a></li>
            <li><a href="/canopy/reporting.html">Reporting</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="/canopy/reference/index.html">API Reference</a></li>

            <li class="nav-header">Testimonials</li>
            <li><a href="http://amirrajan.github.com/Oak/">Oak MVC</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="https://github.com/sergey-tihon/canopy"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
  </body>
  </html>
